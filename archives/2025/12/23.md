### 目次 {#table-of-contents}
1. [#122714 \[LoongArch64\] Fix the random failed for `Fp32x2StructFunc` in the profiler test: slowpatheltenter.sh.](#122714)
2. [#122710 Fix MethodBase.GetCurrentMethod with runtime async](#122710)
3. [#122507 \[release/8.0\] Update dependencies from dotnet/emsdk](#122507)
4. [#122089 \[release/8.0\] Update dependencies from dotnet/cecil](#122089)
5. [#121674 Fix overflow in LengthBuckets for large strings](#121674)
6. [#121537 \[release/9.0-staging\] Update dependencies from dotnet/arcade](#121537)

---
### [#122714](https://github.com/dotnet/runtime/pull/122714) [LoongArch64] Fix the random failed for `Fp32x2StructFunc` in the profiler test: slowpatheltenter.sh. {#122714}
- 作成者: [@LuckyXu-HF](https://github.com/LuckyXu-HF)
- 作成日時: 2025年12月23日 07:17:27(UTC)
- マージ日時: 2025年12月23日 14:34:50(UTC)
- ラベル: <span style="background-color: #d4c5f9; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">area-Diagnostics-coreclr</span> <span style="background-color: #c2e0c6; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">community-contribution</span> <span style="background-color: #eb6420; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">arch-loongarch64</span>
#### 概要
LoongArch64プラットフォームにおいて、プロファイラーテスト(`slowpatheltenter.sh`)で`Fp32x2StructFunc`がランダムに失敗する問題を修正したPRです。`struct{single, single}`型の引数を処理する際に、`ProfileArgIterator::GetNextArgAddr()`でバッファアドレスを正しく返すように改善しました。500回のテスト実行で確認されています。

#### 変更内容
- **修正ファイル**: `src/coreclr/vm/loongarch64/profiler.cpp`
  - 変更行数: +14/-1（合計15行）
  - `ProfileArgIterator::GetNextArgAddr()`メソッドにおいて、`struct{single, single}`型引数のバッファアドレス処理を改善
  - テスト出力では、期待値`9A99993F 00006040`に対して実際値`9A99993F FF7F0000`が返されていた不具合を解決

#### パフォーマンスへの影響
影響なし（バグ修正のため、パフォーマンス変化はありません）

#### 関連Issue
なし

#### その他
- **テスト環境**: LoongArch64プロセッサ(3A6000)で再現確認
- **安定性**: 修正後500回の連続テスト実行でエラーなし
- **レビューワー**: shushanhf、jkotas

---
### [#122710](https://github.com/dotnet/runtime/pull/122710) Fix MethodBase.GetCurrentMethod with runtime async {#122710}
- 作成者: [@eduardo-vp](https://github.com/eduardo-vp)
- 作成日時: 2025年12月23日 00:55:53(UTC)
- マージ日時: 2025年12月23日 22:34:52(UTC)
- ラベル: <span style="background-color: #d4c5f9; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">area-NativeAOT-coreclr</span> <span style="background-color: #2D0DA0; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">runtime-async</span>
#### 概要
Native AOT コンパイルで runtime-async が有効な場合、`MethodBase.GetCurrentMethod()`が非同期メソッド内で正常に動作するように修正しました。以下のコードが正常に実行されるようになります。

```csharp
static async Task MyAsyncMethod()
{
    MethodBase currentMethod = MethodBase.GetCurrentMethod();
    Console.WriteLine($"Current method: {currentMethod?.Name}");
    await Task.Delay(100);
}
```

#### 変更内容
- **src/coreclr/tools/aot/ILCompiler.Compiler/Compiler/Compilation.cs** (+5 行): Native AOT コンパイラで非同期メソッド内の `GetCurrentMethod()` 呼び出しを正しく処理するための修正を追加
- **src/tests/async/reflection/reflection.cs** (-1 行): テストコードの整理

#### パフォーマンスへの影響
影響なし

#### 関連Issue
#122546 - Native AOT での `MethodBase.GetCurrentMethod()` と runtime-async の互換性問題

#### その他
runtime-async 機能を有効にした Native AOT コンパイルでリフレクション機能を使用する際の互換性が向上します。

---
### [#122507](https://github.com/dotnet/runtime/pull/122507) [release/8.0] Update dependencies from dotnet/emsdk {#122507}
- 作成者: [@dotnet-maestro[bot]](https://github.com/apps/dotnet-maestro)
- 作成日時: 2025年12月12日 21:12:19(UTC)
- マージ日時: 2025年12月23日 17:19:21(UTC)
- ラベル: <span style="background-color: #048708; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">Servicing-approved</span> <span style="background-color: #A8F937; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">area-codeflow</span>
#### 概要
dotnet/emsdkリポジトリからの依存関係を更新するPRです。Microsoft.SourceBuild.Intermediate.emsdk を8.0.23-servicing.25602.41から8.0.23-servicing.25612.6へ更新し、Emscripten関連の修正やセキュリティアップデートを取り込みます。release/8.0ブランチ向けの自動依存関係更新です。

#### 変更内容
- **NuGet.config** (+1/-1): NuGetパッケージソースの構成を微調整
- **eng/Version.Details.xml** (+3/-3): 依存関係バージョン情報を更新
  - Microsoft.SourceBuild.Intermediate.emsdk: 8.0.23-servicing.25602.41 → 8.0.23-servicing.25612.6
  - Microsoft.NET.Workload.Emscripten.Current.Manifest-8.0.100: 8.0.23 → 8.0.23（メタデータ更新）

#### パフォーマンスへの影響
影響なし

#### 関連Issue
#122709（macOS-13ランナーイメージの廃止に関する実装エラー）

#### その他
- 本PRは自動生成されたdotnet-maestroボットによる依存関係更新です
- ビルド日時: 2025年12月12日
- 現時点でmacOS-13ランナーの廃止に関連するビルド失敗が報告されています
- レビュワー（lewing, jeffhandley）による確認待ち中です

---
### [#122089](https://github.com/dotnet/runtime/pull/122089) [release/8.0] Update dependencies from dotnet/cecil {#122089}
- 作成者: [@dotnet-maestro[bot]](https://github.com/apps/dotnet-maestro)
- 作成日時: 2025年12月02日 02:01:59(UTC)
- マージ日時: 2025年12月23日 17:16:51(UTC)
- ラベル: <span style="background-color: #048708; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">Servicing-approved</span> <span style="background-color: #A8F937; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">area-codeflow</span>
#### 概要
dotnet/cecil依存関係を0.11.4-alpha.25573.2から0.11.4-alpha.25614.2へアップデートするPR。release/8.0ブランチの自動依存関係更新で、Microsoft.DotNet.Cecilライブラリの最新版を取り込みます。

#### 変更内容
- **eng/Version.Details.xml**: Microsoft.DotNet.Cecil のバージョン情報を更新（+2/-2）
- **eng/Versions.props**: バージョン定義を更新（+1/-1）

#### パフォーマンスへの影響
影響なし

#### 関連Issue
なし

#### その他
**注記**: このPRはレビュー時点でテスト失敗が報告されており、dotnet/runtime#121666がマージされるとテストが成功するようになると予想されています。リリースブランチのテスト環境に既知の問題があったため、依存関係の更新自体は問題ないものの、CI/CDパイプラインの修正待機中です。macOS-13ランナーイメージの廃止に関連する別途のビルド失敗も記録されています。

---
### [#121674](https://github.com/dotnet/runtime/pull/121674) Fix overflow in LengthBuckets for large strings {#121674}
- 作成者: [@prozolic](https://github.com/prozolic)
- 作成日時: 2025年11月16日 00:21:46(UTC)
- マージ日時: 2025年12月23日 14:31:31(UTC)
- ラベル: <span style="background-color: #d4c5f9; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">area-System.Collections</span> <span style="background-color: #c2e0c6; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">community-contribution</span>
#### 概要
FrozenDictionary/FrozenSetの作成時に、極めて大きな文字列（Array.MaxLengthに近いサイズ）を使用した場合にLengthBucketsの計算でinteger overflowが発生し、負の値がArrayPool<T>.Shared.Rentに渡されてArgumentOutOfRangeExceptionが発生していた問題を修正しました。オーバーフロー検出を追加してバケット作成を防止します。

#### 変更内容
- **LengthBuckets.cs**: オーバーフロー検出ロジックを追加（+5/-3行）
  - バケット配列サイズ計算時のオーバーフロー検査を実装
  
- **FrozenDictionaryTests.cs**: `[OuterLoop]`属性付きテストを追加（+13行）
  - 極端に大きな文字列（0x7FFFFFC7 / 4サイズ）でのToFrozenDictionary動作検証
  
- **FrozenSetTests.cs**: `[OuterLoop]`属性付きテストを追加（+11行）
  - 極端に大きな文字列でのToFrozenSet動作検証

```csharp
// テストケース例
var keys = new[] { "", new string('a', 0X7FFFFFC7 / 4) };
var frozen = keys.ToFrozenDictionary(s => s, GetKeyIEqualityComparer());
Assert.Equal(keys.Length, frozen.Count);
```

#### パフォーマンスへの影響
影響なし。オーバーフロー検出は例外的な大サイズ入力時のみ発動し、通常のユースケースでは追加の計算コストは無視できる範囲です。

#### 関連Issue
#121673

#### その他
テストケースには`[OuterLoop]`属性が付与されているため、リソース制約のあるCI環境での実行をスキップできます。修正により、超大規模文字列によるクラッシュではなく、安全にバケット作成をスキップする動作へと変更されました。

---
### [#121537](https://github.com/dotnet/runtime/pull/121537) [release/9.0-staging] Update dependencies from dotnet/arcade {#121537}
- 作成者: [@dotnet-maestro[bot]](https://github.com/apps/dotnet-maestro)
- 作成日時: 2025年11月12日 02:03:00(UTC)
- マージ日時: 2025年12月23日 17:25:40(UTC)
- ラベル: <span style="background-color: #048708; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">Servicing-approved</span> <span style="background-color: #A8F937; color: #000000; display: inline-block; padding: 0 7px; font-size:12px; font-weight:500; line-height:18px; border-radius:2em; border:1px solid transparent; white-space:nowrap; cursor:default;">area-codeflow</span>
#### 概要
dotnet/arcadeリポジトリからの自動依存関係更新PR。Microsoft.DotNet.Arcade.Sdkおよび関連する20個のビルドタスクとツールパッケージを9.0.0-beta.25555.4から9.0.0-beta.25611.4にバージョンアップ。XUnitの関連パッケージも2.9.0-beta.25555.4から2.9.0-beta.25611.4に更新。

#### 変更内容
- **eng/Version.Details.xml** (+42/-42): 依存関係バージョン情報の更新
- **eng/Versions.props** (+17/-17): バージョン定義の更新
- **global.json** (+5/-5): グローバル設定ファイルの更新
- **ビルド関連ファイル**: source-build.yml、source-index-stage1.yml、tools.ps1など計6ファイルを更新
- **NuGet検証スクリプト** (nuget-verification.ps1): 1行更新
- **内部フィード操作** (internal-feed-operations.ps1): 1行更新

更新対象パッケージ：Microsoft.DotNet.Arcade.Sdk、Build.Tasks.Archives/Feed/Installers/Packaging等、CodeAnalysis、GenAPI、GenFacades、Helix.Sdk、PackageTesting、RemoteExecutor、SharedFramework.Sdk、VersionTools.Tasks、XliffTasks、XUnitExtensions、XUnitAssert、XUnitConsoleRunner

#### パフォーマンスへの影響
影響なし

#### 関連Issue
#122709（macOS-13ベースのランナーイメージ廃止に関連するビルド失敗）

#### その他
Maestroによる自動依存関係更新（ボット実行）。レビュワー jeffhandleyが複数回ビルド失敗に関するコメントを記載。wasmbuildtestsの失敗について調査が進行中。

---
